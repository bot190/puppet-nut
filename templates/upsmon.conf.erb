# File managed by Puppet
#
RUN_AS_USER <%= scope['nut::client_run_as_user'] %>
<% scope['nut::client_UPSs'].each do |name, ups| -%>
MONITOR <%= name %> <%= ups['powervalue'] %> <%= ups['user'] %>  <%= ups['password'] %> <%= ups['mode'] %>
<% end -%>
MINSUPPLIES <%= scope['nut::client_minsupplies'] %>
SHUTDOWNCMD "<%= scope['nut::client_shutdowncmd'] %>"
<% if scope['nut::client_notifycmd'] != '' -%>
NOTIFYCMD <%= scope['nut::client_notifycmd'] %>
<% end -%>
POLLFREQ <%= scope['nut::client_pollfreq'] %>
POLLFREQALERT <%= scope['nut::client_pollfreqalert'] %>
HOSTSYNC <%= scope['nut::client_hostsync'] %>
DEADTIME <%= scope['nut::client_deadtime'] %>
POWERDOWNFLAG <%= scope['nut::client_powerdownflag'] %>
<% if scope['nut::client_notify_msg_online'] != '' -%>
NOTIFYMSG ONLINE "<%= scope['nut::client_notify_msg_online'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_onbat'] != '' -%>
NOTIFYMSG ONBATT "<%= scope['nut::client_notify_msg_onbat'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_lowbat'] != '' -%>
NOTIFYMSG LOWBATT "<%= scope['nut::client_notify_msg_lowbat'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_fsd'] != '' -%>
NOTIFYMSG FSD "<%= scope['nut::client_notify_msg_fsd'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_commonk'] != '' -%>
NOTIFYMSG COMMOK "<%= scope['nut::client_notify_msg_commonk'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_commbad'] != '' -%>
NOTIFYMSG COMMBAD "<%= scope['nut::client_notify_msg_commbad'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_shutdown'] != '' -%>
NOTIFYMSG SHUTDOWN "<%= scope['nut::client_notify_msg_shutdown'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_remplbatt'] != '' -%>
NOTIFYMSG REPLBATT "<%= scope['nut::client_notify_msg_remplbatt'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_nocomm'] != '' -%>
NOTIFYMSG NOCOMM "<%= scope['nut::client_notify_msg_nocomm'] %>"
<% end -%>
<% if scope['nut::client_notify_msg_noparent'] != '' -%>
NOTIFYMSG NOPARENT "<%= scope['nut::client_notify_msg_noparent'] %>"
<% end -%>
<% if scope['nut::client_notifyflag_online'] != '' -%>
NOTIFYFLAG ONLINE <%= scope['nut::client_notifyflag_online'] %>
<% end -%>
<% if scope['nut::client_notifyflag_onbat'] != '' -%>
NOTIFYFLAG ONBATT <%= scope['nut::client_notifyflag_onbat'] %>
<% end -%>
<% if scope['nut::client_notifyflag_lowbat'] != '' -%>
NOTIFYFLAG LOWBATT <%= scope['nut::client_notifyflag_lowbat'] %>
<% end -%>
<% if scope['nut::client_notifyflag_fsd'] != '' -%>
NOTIFYFLAG FSD <%= scope['nut::client_notifyflag_fsd'] %>
<% end -%>
<% if scope['nut::client_notifyflag_commonk'] != '' -%>
NOTIFYFLAG COMMOK <%= scope['nut::client_notifyflag_commonk'] %>
<% end -%>
<% if scope['nut::client_notifyflag_commbad'] != '' -%>
NOTIFYFLAG COMMBAD <%= scope['nut::client_notifyflag_commbad'] %>
<% end -%>
<% if scope['nut::client_notifyflag_shutdown'] != '' -%>
NOTIFYFLAG SHUTDOWN <%= scope['nut::client_notifyflag_shutdown'] %>
<% end -%>
<% if scope['nut::client_notifyflag_remplbatt'] != '' -%>
NOTIFYFLAG REPLBATT <%= scope['nut::client_notifyflag_remplbatt'] %>
<% end -%>
<% if scope['nut::client_notifyflag_nocomm'] != '' -%>
NOTIFYFLAG NOCOMM <%= scope['nut::client_notifyflag_nocomm'] %>
<% end -%>
<% if scope['nut::client_notifyflag_noparent'] != '' -%>
NOTIFYFLAG NOPARENT <%= scope['nut::client_notifyflag_noparent'] %>
<% end -%>
RBWARNTIME <%= scope['nut::client_rbwarntime'] %>
NOCOMMWARNTIME <%= scope['nut::client_nocommwarmtime'] %>
FINALDELAY <%= scope['nut::client_finaldelay'] %>
